# Ingestion Service Environment Configuration Example

# Application Settings
APP_NAME=Ingestion Service
APP_VERSION=1.0.0
LOG_LEVEL=INFO

# Server Settings
HOST=0.0.0.0
PORT=8003
WORKERS=4

# Database Settings (PostgreSQL)
DATABASE_URL=postgresql://user:password@localhost:5432/ingestion_db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# MinIO Object Storage Settings
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_BUCKET_PREFIX=ingestion

# File Processing Settings
MAX_FILE_SIZE_MB=100
MAX_FILES_PER_REQUEST=10

# Multi-tenant Settings
REQUIRE_TENANT_HEADER=true
TENANT_HEADER_NAME=X-Tenant-ID
DEFAULT_TENANT_ID=

# Processing Pipeline Settings
ENABLE_OCR_PROCESSING=true
ENABLE_NER_PROCESSING=true
ENABLE_EMBEDDING_PROCESSING=true
OCR_SERVICE_URL=http://localhost:8000
NER_SERVICE_URL=http://localhost:8001
EMBEDDING_SERVICE_URL=http://localhost:8002

# Security Settings
ENABLE_CORS=true
CORS_ORIGINS=["*"]
ENABLE_FILE_VALIDATION=true
ENABLE_VIRUS_SCANNING=false
VIRUS_SCAN_SERVICE_URL=

# Performance Settings
ENABLE_CACHING=false
CACHE_TTL_SECONDS=3600
REDIS_URL=redis://localhost:6379

# Celery Settings
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_WORKER_CONCURRENCY=3
CELERY_TASK_TIME_LIMIT=300
CELERY_TASK_SOFT_TIME_LIMIT=240
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_TASK_ACKS_LATE=true
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000
CELERY_WORKER_MAX_MEMORY_PER_CHILD=200000

# Monitoring Settings
ENABLE_METRICS=true
ENABLE_TRACING=false

# Data Retention Settings
DEFAULT_RETENTION_DAYS=365
ENABLE_SOFT_DELETE=true
